{% extends 'base.html' %}

{% block title %}ãƒ›ãƒ¼ãƒ  - Minecraft ã‚¢ãƒ‰ã‚ªãƒ³é…å¸ƒ{% endblock %}

{% block content %}
<div style="background: white; padding: 40px; border-radius: 8px; margin-bottom: 40px; text-align: center;">
    <h2 style="font-size: 32px; margin-bottom: 15px;">ã‚ˆã†ã“ãï¼</h2>
    <p style="font-size: 16px; color: #666; margin-bottom: 20px;">
        ã“ã®ã‚µã‚¤ãƒˆã¯ã€Minecraft ã®é«˜å“è³ªãªã‚¢ãƒ‰ã‚ªãƒ³ã‚’é…å¸ƒãƒ»å…±æœ‰ã™ã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚<br>
        Behavior Packã€Resource Packã€Skin ãªã©ã‚’æ¢ã—ã¦ã€ã‚²ãƒ¼ãƒ ã‚’ã‚‚ã£ã¨æ¥½ã—ãã—ã¾ã—ã‚‡ã†ï¼
    </p>
    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
        <a href="{% url 'addon_list' %}" class="button" style="font-size: 16px; padding: 12px 30px;">ğŸ” ã‚¢ãƒ‰ã‚ªãƒ³ã‚’æ¢ã™</a>
        {% if user.is_authenticated %}
        <a href="{% url 'addon_upload' %}" class="button" style="background: #28a745; font-size: 16px; padding: 12px 30px;">ğŸ“¤ ã‚¢ãƒ‰ã‚ªãƒ³ã‚’é…å¸ƒã™ã‚‹</a>
        {% else %}
        <a href="{% url 'account_login' %}" class="button" style="background: #6c757d; font-size: 16px; padding: 12px 30px;">ğŸ“¤ é…å¸ƒã™ã‚‹ã«ã¯ ãƒ­ã‚°ã‚¤ãƒ³</a>
        {% endif %}
    </div>
</div>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 40px;">
    <div class="card" style="text-align: center;">
        <div style="font-size: 40px; margin-bottom: 10px;">ğŸ“¦</div>
        <h3>{{ addon_count }} å€‹ã®ã‚¢ãƒ‰ã‚ªãƒ³</h3>
        <p style="color: #666;">é«˜å“è³ªãªã‚¢ãƒ‰ã‚ªãƒ³ãŒæƒã£ã¦ã„ã¾ã™</p>
    </div>
    <div class="card" style="text-align: center;">
        <div style="font-size: 40px; margin-bottom: 10px;">â¬‡ï¸</div>
        <h3>{{ total_downloads }} ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</h3>
        <p style="color: #666;">å¤šãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ”¯æŒã•ã‚Œã¦ã„ã¾ã™</p>
    </div>
    <div class="card" style="text-align: center;">
        <div style="font-size: 40px; margin-bottom: 10px;">â­</div>
        <h3>é«˜å“è³ª</h3>
        <p style="color: #666;">å³é¸ã•ã‚ŒãŸã‚¢ãƒ‰ã‚ªãƒ³ã®ã¿æ²è¼‰</p>
    </div>
</div>

<h2 style="margin-bottom: 20px; font-size: 24px;">æœ€æ–°ã‚¢ãƒ‰ã‚ªãƒ³</h2>
<div class="addon-grid">
    {% for addon in latest_addons %}
    <div class="addon-card">
        <div class="addon-card-image">
            {% if addon.thumbnail %}
                <img src="{{ addon.thumbnail.url }}" alt="{{ addon.name }}">
            {% else %}
                ğŸ“¦ {{ addon.get_addon_type_display }}
            {% endif %}
        </div>
        <div class="addon-card-content">
            <span class="addon-type">{{ addon.get_addon_type_display }}</span>
            <h3>{{ addon.name }}</h3>
            <p>{{ addon.description|truncatewords:15 }}</p>
            <div class="addon-meta">
                <span>v{{ addon.version }}</span>
                <span>â¬‡ï¸ {{ addon.downloads }}</span>
            </div>
            <div class="addon-footer">
                <a href="{{ addon.get_absolute_url }}" class="button secondary">è©³ç´°</a>
                <a href="{% url 'download_addon' addon.slug %}" class="button">ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</a>
            </div>
        </div>
    </div>
    {% empty %}
    <p style="grid-column: 1 / -1; text-align: center; color: #999;">ã¾ã ã‚¢ãƒ‰ã‚ªãƒ³ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
    {% endfor %}
</div>
{% endblock %}
